---
title: C++ Primer chap4
date: 2017-07-30 01:39:11
categories:
  - learning
tags:
  - C++
---
### 取模运算
如果``m % n != 0``，则其结果符号与m的相同。

### 短路求值
对于逻辑与运算：当且仅当左侧运算对象为真时才对右侧运算对象求值
对于逻辑或运算：当且仅当左侧运算对象为假时才对右侧运算对象求值

### 建议：除非必须，否则不用递增递减运算符的后置版本

### 强制类型转换
``cast-nmae<type>(expr)``
#### static_cast
1. 基本数据类型之间的转换
2. 找回存于void*指针中的值
3. 用于类层次结构中父类和子类之间指针和引用的转换

#### dynamic_cast
主要用于类层次结构中父类和子类之间指针和引用的转换，
- 上行转换：子类到父类
- 下行转换：父类到子类
具有运行时检查，对于指针类型转换成功时返回正确类型指针，失败返回0；
对于引用类型转换失败则抛出一个``bad_cast``异常。

在下行转换时必须确定要转换的数据确实是目标类型的数据，即需要注意要转换的父类类型指针是否真的指向子类对象。
如果是，static_cast和dynamic_cast都能成功；
如果不是static_cast能返回，但是不安全，可能会出现访问越界错误，而dynamic_cast在运行时类型检查过程中，判定该过程不能转换，返回0。

#### const_cast
改变对象的底层const,将常量对象转换成非常量对象即去const性质。
一旦去掉某个对象的const性质，编译器不再阻止对该对象的写操作；
如果该对象本身不是一个常量，行为合法；否则，对常量进行``const_cast``执行写操作产生未定义的后果。

#### reinterpret_cast
用来处理无关类型转换，通常为操作数的位模式提供较低层次的重新解释；
但仅仅是重新解释了给出的对象的比特模型，并没有进行二进制的转换。
