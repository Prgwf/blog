---
title: 鸽巢原理
date: 2017-11-10 08:43:10
mathjax: true
categories:
  - learning
tags:
  - 组合数学
  - 鸽巢原理
---
### 鸽巢原理
鸽巢原理，也叫狄利克雷抽屉原理。
有n个笼子和n+1个鸽子，所有鸽子都被关在鸽笼里，那么至少有一个笼子中有至少2个鸽笼。
也可以表示成，有n个笼子和kn+1个鸽子，所有鸽子都被关在鸽笼里，那么至少有一个笼子中有至少k+1个鸽笼。
集合论的来理解，若A是n+1元集，B是n元集，则不存在从A到B的单射。
#### 简单的一些例子：
例1：盒子有10只黑袜子，12只篮袜子，至少需要拿几只，其必有一对同色的。
因为颜色只有2种（两个鸽巢），所以只要拿出3只袜子，就能保证有一双同色。

例2：从1,2,3,...,2n这些正整数任意拿出n+1个数必然存在两个数互质。
前置技能：相邻两个正整数互质
假设两个正整数$n$,$n+1$，有$gcd(n, n+1)=d$
$\Rightarrow$ $n=p \times d，n+1=q \times d, (p \ne q)$
$\Rightarrow$ $n+1-n=(q-p) \times d$
$\Rightarrow$ $(q-p) \times d=1$
由于$q-p \ge 1$，为使上面的式子成立，那么必有$d=1$
分成两个集合{1,3,5,7,9...,2n-1}和{2,4,6,8,..,2n}，
这是符合要求的两个最大的集合，在从其中一个集合中拿出一个数加入另一个，
则必然导致有两个数相邻。

例3：从$1,2,3,...,2n$这些正整数任意拿出$n+1$个数必然存在两个数，其中一个数是另一个数的倍数。
嘴炮：把这n+1个数中的偶数的所有都用2除尽，那么就剩下了n+1个奇数，而2n个数中有n个奇数，也就是说存在两个奇数相同，得证。

例4：有一个人投篮，每分种至少投一次，60分钟投了100次。
求证：必存在连续的若干分钟，在这段时间内他一共投篮19次。
假设$a_i$为每分钟投篮次数，则构成序列$a_1, a_2, a_3, ..., a_60$，用$Si$表示前i分钟投篮次数之和。
$\Rightarrow$ $S_1=a_1$
$\Rightarrow$ $S_2=a_1+a_2$
...
$\Rightarrow$ $S_{60}=a_1+a_2+...+a_{60}=100$
显然，$S_1 \lt S_2 \lt ... \lt S_{60}$
构造新序列：$S_1+19, S_2+19, ..., S_{60}+19$
显然：$S_1+19 \lt S_2+19 \lt ... \lt S_{60}+19=119$
而$S_1, S_2, ..., S_{60}, S_1+19, S_2+19, ..., S_{60}+19$一共为120个正整数，则由鸽巢原理（共h119个鸽笼，有120个鸽子），可知其中必存在两数相等。
又因为$\{S_i\}$递增，$\{S_i+19\}$也递增。
故，存在$i,j(i>j)$，使得
$S_i=S_j+19$
$S_i-S_j=19$, 即，$a_{j+1}, a_{j+2}, ..., a_i=19$，得证。

例5：有个长度为100的序列，$a_i \in \{1, 2\}$，且$a_i+a_{i+1}+...+a_{i+9} \le 16(1 \le i \le 91)$，
求证：存在一段连续子序列和为39。
$\Rightarrow S_1=a_1$
$\Rightarrow S_2=a_1+a_2$
...
$\Rightarrow S_{100}=a_1+a_2+...+a_{100} \le 160$
显然$S_1 \lt S_2 \lt ... \lt S_{60}$
构造新序列： $S_1+39, S_2+39, ..., S_{100}+39$
显然：$S_1+39 \lt S_2+39 \lt ... \lt S_{100}+39=199$
而$S_1, S_2, ..., S_{100}, S_1+39, S_2+39, ..., S_{100}+39$一共为199个正整数，则由鸽巢原理（共h199个鸽笼，有200个鸽子），可知其中必存在两数相等。
又因为$\{S_i\}$递增，$\{S_i+39\}$也递增。
故，存在$i,j(i>j)$，使得
$S_i=S_j+39$
$S_i-S_j=39$, 即，$a_{j+1}, a_{j+2}, ..., a_i=39$，得证。
